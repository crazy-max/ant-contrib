<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Ant-contrib Tasks: Http Tasks</title>
  </head>

  <body>
    <h1>Post-Method</h1>
    The &lt;post-method&gt; task allows the caller to use the HTTP POST
    method to send data to an arbitrary url.  This data can be one of the
    following:
    <ul>
    <li>Name/Value pairs</li>
    <li>File content</li>
    <li>Text content</li>
    <li>Multi-part content</li>
    </ul>


    <h2>Parameters</h2>
    <table border="1" cellpadding="2" cellspacing="0">
      <tr>
        <th>Attribute</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
      <tr>
        <td valign="top"><i>url</i></td>
        <td valign="top">The url which we are posting to.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>path</i></td>
        <td valign="top">The path which we are posting to.  If this is used,
          you must previously declare a &lt;http-client&gt; instance
          configured with host parameters, and set the clientRefId property
          on this task.</td>
        <td align="center" valign="top">No, provided the clientRefId property
        is set to a reference to an http-client which has host parameters
        configured</td>
      </tr>
      <tr>
        <td valign="top"><i>queryString</i></td>
        <td valign="top">The queryString which we are posting to.  If this is used,
          you must previously declare a &lt;http-client&gt; instance
          configured with host parameters, and set the clientRefId property
          on this task, as well as specifying the path attribute.</td>
        <td align="center" valign="top">No, provided the clientRefId property
        is set to a reference to an http-client which has host parameters
        configured</td>
      </tr>
      <tr>
        <td valign="top"><i>multipart</i></td>
        <td valign="top">Should multipart content be forced, even if
          only a single file or text part is specified.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>clientRefId</i></td>
        <td valign="top">The reference id of a previously declared
            &lt;http-client&gt; data type instance.  This is necessary
            if you want to retain state across multiple requests.  If
            not specified, we create a new HttpClient with the default
            settings.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>parameters</td>
        <td valign="top">A java .properties file which contains post parameters.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>responseDataFile</td>
        <td valign="top">The path of the file where the response data will be placed.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>responseDataProperty</td>
        <td valign="top">The property where the response data will be placed.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>statusCodeProperty</i></td>
        <td valign="top">The name of the property to set with the HTTP response status code.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>doAuthentication</i></td>
        <td valign="top">Should we perform authentication.</td>
        <td align="center" valign="top">No.  If set, you must use
          a custom &lt;http-state&gt; and &lt;http-client&gt; object
          on which the credentials have been set.</td>
      </tr>
      <tr>
        <td valign="top"><i>followRedirects</i></td>
        <td valign="top">Should we automatically follow redirects.</td>
        <td align="center" valign="top">No.</td>
      </tr>
    </table>
    
    <h2>Parameters specified as Nested Elements</h2>
    
    <table border="1" cellpadding="2" cellspacing="0">
      <caption>Header - create a request header to be sent.</caption>
      <tr>
        <th>Attribute</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
      <tr>
        <td valign="top"><i>name</i></td>
        <td valign="top">The header name.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
      <tr>
        <td valign="top"><i>value</i></td>
        <td valign="top">The header value.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
    </table>

    <table border="1" cellpadding="2" cellspacing="0">
      <caption>Response-Header - specify a response header to be retrieve.</caption>
      <tr>
        <th>Attribute</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
      <tr>
        <td valign="top"><i>name</i></td>
        <td valign="top">The header name.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
      <tr>
        <td valign="top"><i>property</i></td>
        <td valign="top">The property to be set with the header value.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
    </table>

    <table border="1" cellpadding="2" cellspacing="0">
      <caption>parameter - create a request parameter to be sent.</caption>
      <tr>
        <th>Attribute</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
      <tr>
        <td valign="top"><i>name</i></td>
        <td valign="top">The parameter name.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
      <tr>
        <td valign="top"><i>value</i></td>
        <td valign="top">The parameter value.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
    </table>

    <table border="1" cellpadding="2" cellspacing="0">
      <caption>file - add a File part to the request.</caption>
      <tr>
        <th>Attribute</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
      <tr>
        <td valign="top"><i>name</i></td>
        <td valign="top">The parameter name.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
      <tr>
        <td valign="top"><i>path</i></td>
        <td valign="top">The file path to send.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
      <tr>
        <td valign="top"><i>contentType</i></td>
        <td valign="top">The content type of the file.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>charSet</i></td>
        <td valign="top">The character set.</td>
        <td align="center" valign="top">No.</td>
      </tr>
    </table>

    <table border="1" cellpadding="2" cellspacing="0">
      <caption>text - add a text part to the request.</caption>
      <tr>
        <th>Attribute</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
      <tr>
        <td valign="top"><i>name</i></td>
        <td valign="top">The parameter name.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
      <tr>
        <td valign="top"><i>value</i></td>
        <td valign="top">The string value to send.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
      <tr>
        <td valign="top"><i>contentType</i></td>
        <td valign="top">The content type of the file.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>charSet</i></td>
        <td valign="top">The character set.</td>
        <td align="center" valign="top">No.</td>
      </tr>
    </table>

    <table border="1" cellpadding="2" cellspacing="0">
      <caption>params - create http method params.</caption>
      <tr>
        <th>Attribute</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
      <tr>
        <td valign="top"><i>strict</i></td>
        <td valign="top">Should we be strict on the protocol.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>authenticationPreemptive</i></td>
        <td valign="top">Should we pre-emptively try to authenticate?</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>connectionManagerTimeout</i></td>
        <td valign="top">The timeout for the connection manager.</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>contentCharSet</i></td>
        <td valign="top">The content character set</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>cookiePolicy</i></td>
        <td valign="top">The cookie policy (IGNORE_COOKIES, RFC_2109, NETSCAPE or DEFAULT)</td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>credentialCharSet</i></td>
        <td valign="top"></td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>httpElementCharSet</i></td>
        <td valign="top"></td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>soTimeout</i></td>
        <td valign="top"></td>
        <td align="center" valign="top">No.</td>
      </tr>
      <tr>
        <td valign="top"><i>version</i></td>
        <td valign="top">The HTTP version.</td>
        <td align="center" valign="top">No.</td>
      </tr>
    </table>
    
    Additional &lt;params&gt; subelements:
    <table border="1" cellpadding="2" cellspacing="0">
      <caption>double,int,long,boolean,string - create a method parameter.</caption>
      <tr>
        <th>Attribute</th>
        <th>Description</th>
        <th>Required</th>
      </tr>
      <tr>
        <td valign="top"><i>name</i></td>
        <td valign="top">The parameter name</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
      <tr>
        <td valign="top"><i>value</i></td>
        <td valign="top">The parameter value.</td>
        <td align="center" valign="top">Yes.</td>
      </tr>
    </table>
    

    <h2>Examples</h2>


    <hr>
    <p align="center">Copyright &copy; 2002-2003 Ant-Contrib Project. All
    rights Reserved.</p>

  </body>
</html>
